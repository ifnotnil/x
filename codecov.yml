# yaml-language-server: $schema=https://json.schemastore.org/codecov.json
# curl --data-binary @codecov.yml https://codecov.io/validate

codecov:
  strict_yaml_branch: default  # only use the latest YAML on stated branch

ignore:
  - "http/internal/testingx"

# https://docs.codecov.com/docs/pull-request-comments
comment:
  layout: "condensed_header, condensed_files, condensed_footer"
  behavior: default
  require_changes: false      # Post comment even if there's no change in coverage
  require_base: false         # [true :: must have a base report to post]
  require_head: true           # [true :: must have a head report to post]
  hide_project_coverage: true # [true :: only show coverage on the git diff]

flag_management:
  default_rules: # the rules that will be followed for any flag added, generally
    carryforward: true
    statuses:
      - type: project
        target: auto
        threshold: 1%
      - type: patch
        target: 80%
